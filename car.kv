#:kivy 1.0.9

<DriveSession>:
#  The following lines ask for access from
#  within DriveSession, to the following
#  items
    speedometer:  velocity_display
    gas_pedal:  accelerate_button
    brake_pedal:  slow_down_button

    canvas:

    HorizontalButton:
        id:  slow_down_button
        on_press:  root.brake()
        x:  root.x + 2
        center_y:  (root.height) * 0.3

    VerticalButton:
        id:  accelerate_button
        on_press:  root.accelerate()
        x:  root.width - 200
        center_y:  root.height * 0.3

    CircleDisplay:
        id:  velocity_display
        center_x:  root.width / 2.0
        center_y:  root.top - 75


<HorizontalButton>:
    size:  400, 150
    canvas:
        Color:
#           blue
            rgba: (0, 0, 1, .6)
        Rectangle:
            pos:  self.pos
            size:  self.size


<VerticalButton>:
    size:  150, 300
    canvas:
        Color:
#           red
            rgba: (1, 0, 0, .9)
        Rectangle:
            pos:  self.pos
            size:  self.size


<CircleDisplay>:
    size:  150, 150
    canvas:
        Color:
#           green
            rgba: (0.255, 0.749, 0.247, .5)
        Ellipse:
            pos:  self.pos
            size:  self.size
    Label:
        canvas:
            Color:
                rgb:  (1, 0, 0)
        font_size:  70
        center:  self.parent.center
#  self is Label, self.parent is CircleDisplay, self.parent.parent is DriveSession
        text:  str(round(self.parent.parent.speed, 1))
